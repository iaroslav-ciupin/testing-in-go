
Testing in Go
Libraries and best practices
5 Apr 2018
Tags: go, testing, unit-testing, integration-testing

Iaroslav Ciupin
Go Developer, Ellation
iaroslav.ciupin@ellation.com
http://ellation.com

* Table of contents

- Intro
- Standard library
- testify
- gock
- go-sqlmock
- integration tests

* Intro

Simple web server

.image testing-in-go.png

* Testing using standard library

.code -numbers TestFunc.go

* github.com/stretchr/testify/assert

- readable code
- easy checks
- failure descriptions

* github.com/stretchr/testify/mock

- mocking dependencies
- setting/asserting expectations

* github.com/stretchr/testify/suite

- structuring more complex testing logic
- beforeAll, beforeEvery, afterAll, afterEvery
- built-in assertions

* github.com/h2non/gock

TODO: httptest request and server

- easy HTTP request/response mocking

* github.com/DATA-DOG/go-sqlmock

- NOT AN IN-MEMORY DATABASE!
- matches SQL regex
- network/database error testing

* integration testing

No library/framework :(


